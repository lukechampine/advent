package main

import (
	"fmt"

	"github.com/lukechampine/advent/utils"
)

const input = `                                                /-----------------------------------------------------------------\
                                                |    /------------------------------\                             |
       /----------------------------------------+----+------------------------------+----------------------------\|
       |     /---------------------->-----------+----+--\     /---------------------+----------------------------++------------------------------\
       |     |                             /----+----+--+-----+---------------------+----------------------------++-------\                      |
       | /---+-----------------------------+----+----+--+-----+---------------------+--------------\             ||       |                      |
       | | /-+-----------------------------+----+----+--+-----+----------------\  /-+--------------+-------------++-------+-----\                |
       | | | |     /-----------------------+----+----+--+--\  |                |  | |             /+-------------++-------+-----+\               |
       | | | |     |                       |    |    |  |  |  |                |  | |     /-------++-------<-----++-------+-----++--\            |
   /---+-+-+-+-----+---------------\       |  /-+----+--+--+--+----------------+--+-+-----+-------++-------------++-------+-----++--+------------+\
   |   | | | |     |               |      /+--+-+----+--+--+--+----------------+--+-+-----+-------++-------------++-------+-----++--+------------++--\
   |   | | | |     |               |      ||  | |   /+--+--+--+---------\ /----+--+-+-----+-------++-------------++--\    |     ||  |            ||  |
   |   | | | |     |               |      ||  | |   ||/-+--+--+---------+-+----+--+-+-----+-------++-------------++--+----+---\ ||  |            ||  |
   |   | | | |     |               |      ||  | |   |\+-+--+--+---------+-+----+--+-/     |       ||             ||  |    |   | ||  |            ||  |
   | /-+-+-+-+-----+---------------+------++--+-+---+-+\|  |  |         | |/---+--+-------+-------++-----------\ ||  |    |   | ||  |            ||  |
   | | | | | |     |  /----------\ |      ||  | |   | |||  |  |         | v|   |  |       |       ||           | ||  |    |   | ||  |            ||  |
   | | | | | |     | /+----------+\|      ||  | |   | |||  |  |        /+-++---+--+-------+-------++-----------+-++-\|    |   | ||  |            ||  |
   | | | | | \-----+-++----------+++------++--+-+---+-++/  |  |/-------++-++---+--+-------+-------++---\       | || ||    |   | ||  |            ||  |
   | | | | |     /-+-++----------+++------++--+-+---+-++---+--++-------++-++---+--+---\   |       ||   |       | || ||    |   | ||  |            ||  |
   | | | | |     | | ||          |||      ||  | |   | || /-+--++-----\ || ||   |  |   |   |       ||   |       | || ||    |   | ||  |            ||  |
   | | | | |     | | ||         /+++------++--+-+---+-++-+-+--++-----+-++-++---+--+---+---+-\     ||   |       | || ||    |   | ||  |            ||  |
   | | | | |     | | ||     /---++++-\ /--++--+-+---+-++-+-+--++-----+-++-++---+--+---+---+-+-----++---+-------+-++-++----+---+-++--+------------++\ |
   | | | | |     | | ||     |   |||| | |  ||  | |   | || | |  ||     | || ||   |  |   |   | |     ||   |       | || ||    |/--+-++--+----------\ ||| |
   | | | | |     | | || /---+---++++-+-+--++-\| |   | || | |  ||     | ||/++---+->+---+---+-+-\   ||   |       | || ||    ||  | ||  |          | ||| |
   | | | | |     | | || |   |   |||| | |  || || |   | || | |  ||/----+-+++++---+--+---+---+-+-+---++---+-------+-++-++----++--+-++--+-----\    | ||| |
   | | | | |     | | || |   |   |||| | |  || || |   | || | |  |||    | \++++---+--+---+---+-+-+---++---+-------+-++-/|    ||  | ||  |     |    | ||| |
   \-+-+-+-+-----+-+-++-+---+---+++/ | |  \+-++-+---+-++-+-+--+++----+--++++---+--+---+---+-+-+---++---+-------+-++--+----++--+-++--+-----+----+-+++-/
   /-+-+-+-+-----+-+-++-+---+---+++--+-+---+-++-+---+-++-+-+--+++----+--++++---+--+---+---+-+-+---++---+-\     | ||  |    ||  | ||  |     |    | |||
   | | | | |     | | || |   |   |||  | |   | || |   | || | |/-+++----+--++++---+--+---+---+-+-+---++---+-+-----+-++--+---\||  | ||  |     |    | |||
   | | | | |     | | || |   |   ||| /+-+---+-++-+---+-++-+-++-+++----+--++++---+--+---+---+-+-+---++---+-+-----+-++--+---+++--+-++--+---\ |    | |||
   | | | | |     | | || |   |   ||| || |  /+-++-+---+-++-+-++-+++----+--++++---+--+---+---+-+-+---++---+-+-----+-++--+---+++--+-++--+\  | |    | |||
   | | | | |     \-+-++-+---+---+++-++-+--++-++-+---+-++-+-++-+++----+--++++---+--+---/   | | |   ||   | | /---+-++--+---+++--+-++--++--+-+---\| |||
   | | | | |       |/++-+---+---+++-++-+--++-++-+---+-++-+-++-+++----+--++++---+--+-----\ | | |   \+---+-+-+---+-++--+---+++--+-+/  ||  | |   || |||
   | |/+-+-+-------++++-+--\|   ||| || |  |\-++-+---+-++-+-++-+++----+--++++---+--+-----+-+-+-+----+---+-+-+---+-++--+---+/|  | |   ||  | |   || |||
   | ||| | |    /--++++-+--++---+++-++-+--+--++-+---+-++-+-++-+++----+--++++---+--+-----+-+-+-+----+-\ | | |   | ||  |   | |  | |   ||  | |   || |||
   | ||| | |    |  |||| |  ||   ||| || |  |/-++-+---+-++-+-++-+++----+--++++---+--+-----+-+-+-+----+-+-+-+-+---+-++--+---+-+--+-+---++--+-+---++-+++\
   | ||| | |    |  |||| |  ||   ||| || |  || || |  /+-++-+-++-+++----+--++++---+--+-----+-+-+-+-\  | | | | |   | ||  |   | |  | |   ||  | |   || ||||
   | ||| | |    |  |||| |  ||   ||| || |  || || |  || || | || |||/---+--++++---+--+-----+-+-+-+-+--+-+-+-+-+---+-++-\|   | |  | |   ||  | |   || ||||
  /+-+++-+-+----+--++++\|  ||   ||| || |  || || |  || || | || ||||   |  ||||/--+--+-----+-+-+-+-+--+-+-+-+-+---+-++-++---+-+--+-+-\ ||  | |   || ||||
 /++-+++-+-+----+--++++++--++---+++-++-+--++-++-+--++-++-+-++-++++---+--+++++--+--+-----+-+-+-+-+--+-+-+\| |   | || ||   | |  | | | ||  | |   || ||||
 ||| ||| | |    |  ||||||  ||   ||| || |/-++-++-+--++-++-+-++-++++---+--+++++--+--+-----+-+-+-+-+--+-+-+++-+--\| || ||   | |  | | | ||  | |   || ||||
/+++-+++-+-+---\|  ||||||  ||   ||| || || || || |  || || |/++-++++---+--+++++--+--+-----+-+-+-+-+--+-+-+++-+--++-++-++---+-+--+-+-+-++--+-+---++\||||
|||| ||| | |   ||  ||||||  ||/--+++-++-++-++-++-+--++-++-++++-++++---+--+++++--+--+-----+-+-+-+-+-\| | ||| |  || || ||   | |  | | | ||  | |   |||||||
|||| ||| | |   ||  |||||| /+++--+++-++-++-++-++-+--++-++-++++-++++---+--+++++--+--+-----+-+-+-+-+-++-+-+++-+--++-++\||   | |  | | | ||  | |   |||||||
|||| ||| | |   ||  |||||| ||||  ||| || ||/++-++-+--++-++-++++-++++---+--+++++--+--+-----+-+-+-+-+-++-+-+++-+--++-+++++---+-+--+-+-+-++--+-+\  |||||||
|||| ||| | |   ||  |||||| ||||  ||| || ||||| || |  || || |||| ||||   |  |||||  |  |     | | | | | || | ||| |  || |||||   | |  | | | ||  | ||  |||||||
|||| ||| | |   ||  |||||| ||||  ||| || ||||| || |  || || |||| ||||/--+--+++++--+--+-----+-+-+-+-+-++-+-+++-+--++-+++++---+-+--+-+-+-++\ | ||  |||||||
|||| ||| | |   ||  |||||^ ||||  ||| || ||||| || |  || || |||| |||||  |  ||\++--+--+-----+-+-+-+-+-++-+-+++-+--++-++++/   | |  | | | ||| | ||  |||||||
|||| ||| | |   ||  |||||| ||||  ||| || ||||| || |  || || |||| |||||  |  || ||  |  |     | | | | | || | ||| |  || ||||    | |  | | | ||| | ||  |||||||
|||| ||| | |   ||  |||||| ||||  ||| || ||||| || |  || || |||| |||||  |  || ||  |  |     | |/+-+<+-++-+-+++-+--++-++++----+-+--+-+-+\||| | ||  |||||||
|||| ||| | |   ||  |||||| ||||  ||| ||/+++++-++-+--++-++-++++-+++++--+--++-++--+--+\    | ||| |/+-++-+-+++-+\ || ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | /-++--++++++-++++\ ||| ||||||||/++-+--++-++-++++-+++++--+--++-++--+--++-\  | ||| ||| || | ||| || || ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  ||\+++-+++++-++/ ||||||||||| | /++-++-++++-+++++--+--++-++--+--++-+--+-+++-+++\|| | ||| || || ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  || ||| ||||| ||  ||||||||||| | ||| || |||| |||||  |  || ||  |  || |  | ||| |||||| | ||| || || ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  || ||| ||||| ||  ||||||||||| | ||| || |||| |||||  |  || \+--+--++-+--+-+++-++++++-+-+++-++-+/ ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  || ||| ||||| ||  ||||||||||| | ||| || |||| |||||  |  ||  |  |  || |  | ||| |||||| | ||| || |  ||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  || |||/+++++-++--+++++++++++-+-+++-++-++++-+++++--+--++--+--+--++-+--+-+++-++++++-+-+++-++-+-\||||    | |  | | ||||| | ||  |||||||
|||| ||| | | | ||  || \++++++++-+/  ||||||||||| | ||| || |||\-+++++--+--++--+--+--++-+--+-+++-++++++-+-+++-++-+-+++++----/ |  | | ||||| | ||  |||||||
||\+-+++-+-+-+-++--++--/||||||| |   ||||||||||| | ||| || |||  \++++--+--++--+--+--++-+--+-+++-++++++-+-+++-++-+-+++++------+--+-+-+++++-+-++--+++/|||
|| |/+++-+-+-+\||  |\---+++++++-+---+++++++++++-+-+++-++-+++---++++--+--++--+--+--++-+--/ ||| |||||| | ||| || | |||||      |  | | ||||| | ||  ||| |||
|| ||||| | | ||||  |    ||||||| |   ||||||||||| | ||| || |||   ||||  |/-++--+--+--++-+\   ||| |||||| | ||| || | |||||      |  | | ||||| | ||  ||| |||
|| |||\+-+-+-++++--+----+++/||| \---+++++++++++-+-+++-++-+++---++++--++-++--+--+--++-++---++/ |||||| | ||| || | |||||      |  | | ||||| | ||  ||| |||
|| ||\-+-+-+-++++--+----+++-+++-----+++++++++++-+-+++-+/ |||   |||| /++-++--+--+--++-++---++\ |||||| | ||| || | |||||      |  | | ||||| | ||  ||| |||
|| ||  | | | ||||  |    ||| |||     ||||||||||| | ||| |  |\+---++++-+++-++--+--+--++-++---+++-++++++-+-+++-++-+-+++++------+--+-+-+++++-+-++--++/ |||
|| ||  | | | ||||  |    ||| |||     ||||||||||| | ||| |  | |   ||\+-+++-++--+--+--++-++---+++-++++++-+-+++-++-+-++++/      \--+-+-+++++-+-++--+/  |||
|| ||  | | | ||||  |    ||| |||     |v||||||||| | ||| |  | |   || | ||| ||  |  |  || ||   ||| |||||| | ||| || | ||||          | | ||||| | ||  |   |||
|| ||  | | | ||||  |    ||| |||     ||||||||||| | ||| |  \-+---++-+-+/| ||  |  |  || ||   ||| |||||| | ||| || | ||||          | | ||||| | ||  |   |||
|| ||  |/+-+-++++--+\   ||| |||     ||||||||||| | ||| |    |   \+-+-+-+-++--+--+--++-++---+++-++++++-+-/|| || | ||||          | |/+++++-+-++--+-\ |||
|| ||  ||| |/++++--++---+++-+++-----+++++++++++-+-+++-+----+----+-+-+-+-++--+--+--++-++---+++-++++++-+-\|| || | ||||          | ||||||| | ||  | | |||
|| ||  ||| ||||||  ||   ||| |||     ||||||||||| |/+++-+----+----+-+-+-+-++--+--+--++-++-\/+++-++++++-+-+++-++-+-++++----------+-+++++++-+-++--+-+\|||
\+-++--+++-++++/|  ||   ||| |||     ||||||||||| ||||| |    |    | | | | ||  |  |  ||/++-+++++-++++++-+-+++-++-+-++++----------+-+++++++-+-++\ | |||||
 | ||  ||| |||| |  ||   ||| |||     ||||||||||| ||||| |    |    | | | | ||  |  |  ||||| ||||| |||||| | ||| || | ||||  /-------+-+++++++-+\||| | |||||
 |/++--+++-++++-+--++---+++-+++---\ ||||||||||| ||||| |   /+----+-+-+-+-++--+--+--+++++-+++++-++++++-+\||| || | ||||  |       | ||||||| ||||| | |||||
 ||v|  ||| |||| |  || /-+++-+++---+-+++++++++++\||||| |   ||    | | | | ||  |  |  ||||| |||||/++++++-+++++-++-+-++++--+-------+-+++++++-+++++-+\|||||
 |||v  ||| |||| |  || | ||\-+++---+-+++++++++++++++++-+---++----+-+-+-+-++--+--+--+++++-++++++++++++-+++++-++-+-+++/  |       | ||||||| ||||| |||||||
 ||||  ||| |||| |  || | ||  |||   |/+++++++++++++++++-+---++----+-+-+-+-++--+--+--+++++-++++++++++++-+++++-++-+-+++---+-------+-+++++++\||||| |||||||
 |||\--+++-+++/ |  || |/++--+++---+++++++++++++++++++\|   ||    | | | | ||  |  |  ||||| |||||||\++++-+++++-+/ | |||   |       | ||||||||||||| |||||||
 |||   ||| |||  |  || ||||  |||   |||||\+++++++++++++++---++----+-+-+-+-++--+--+--+++++-+++++++-++++-+++++-+--+-+++---+-------+-+++++++++++++-+++++/|
 |||   ||| |||  |  || ||||  |||/--+++++-+++++++++++++++---++----+-+-+-+-++--+--+--+++++-+++++++-++++-+++++\|  | |||   |       | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| /++++--+++++-+++++++++++++++---++----+-+-+-+-++--+--+-\||||| ||||||| |||| |||||||  | |||   |       | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |||||  ||||| |||||||||||\+++---++----+-+-+-+-++--+--+-++++++-+++++++-/||| |||||||  | |||   |       | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |||||  ||||| |||||||||||/+++---++----+-+-+-+-++--+--+-++++++-+++++++--+++-+++++++--+-+++---+----\  | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |||||  ||||| |||||||||||||||   ||    | | | | ||  |  | |||||| |||||||  ||| |||||||  | |||   |    |  | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |||||  ||||| |||||||||||||||   ||    | | | | ||  |  | |||||| |||||||  ||| |||||||  | |||   |    |  | ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |||||  ||||| ||||||||||||||\---++----+-+-+-+-++--+--+-++++++-+++++++--+++-+++++++--+-+++---+----+--/ ||||||||||||| ||||| |
 |||   ||| |||  |  || |||| |\+++--+++/| ||||||||||||||    ||    | | | | ||  |  | |\++++-+++++++--+++-+++++++--+-+++---+----+----/|||||||||||| ||||| |
 |||   ||| |||/-+--++-++++-+-+++--+++-+-++++++++++++++----++----+-+-+-+-++--+--+-+-++++-+++++++--+++-+++++++--+-+++---+-\  |     |||||||||||| ||||| |
 |||   ||| |||| |  || |||| |/+++--+++-+-++++++++++++++----++----+-+-+-+-++--+--+-+-++++-+++++++--+++-+++++++--+-+++---+-+--+---\ |||||||||||| ||||| |
 |||   ||| |||| |  || |||| |||||  ||| | ||||||||||||||/---++----+\| | | ||  |  | | |||| |||||||  ||| |||||||  | |||   | |  |   | |||||||||||| ||||| |
 |||   ||| ||\+-+--++-++++-+++/|  ||| |/+++++++++++++++\  ||    ||| | | ||  |  | | |||| |||||||  ||| |||||||  | |||   | |  |   | |||||||||||| ||||| |
 |||   ||| || | |  ||/++++-+++-+--+++-++++++++++++++++++--++----+++-+-+-++--+--+-+-++++-+++++++--+++-+++++++--+-+++-\ | |  |   | |||||||||||| ||||| |
 |||   ||| || | |  ||||||| ||| |  ||| ||||||||||||||||||  ||    ||| | | |\--+--+-+-++++-++++++/  ||| |||||||  | ||| v | |  |   | |||||||||||| ||||| |
 |||   ||\-++-+-+--+++++++-+++-+--+++-++++++++++++++++++--++----+++-+-+-+---+--+-+-++++-++++++---++/ |||||||  | |||/+-+-+--+---+-++++++++++++-+++++\|
 |||   || /++-+-+--+++++++-+++\|  |\+-++++++++++++++++++--++----+++-+-+-+---+--+-+-++++-++++++---++--+++++++--+-+++++-+-+--+---+-++++++/||||| |||||||
 |||   || ||| | |  ||||||| |||||  | | |||||||||||\++++++--++----+++-+-+-+---+--+-+-++++-/||v||   ||  |||||||  | ||||| | |  |   | |||||| ||||| |||||||
 |||   || ||| | |  ||||||| |||||  | | ||||||||||| ||\+++--++----+++-+-+-/   |  | | ||||  |\+++---++--+++++++--+-+++++-+-+--+---+-+++/|| ||||| |||||||
 \++---++-+++-+-+--+++++++-+++++--+-+-+++++++++++-++-+++--++----+++-+-+-----+--+-+-++++--+-+++---++--+++/|||  | ||||| | |  |   | ||| || ||||| |||||||
  ||   || ||| | |  ||||||| |||||  | | ||||\++++++-++-+++--++----+++-+-+-----+--+-+-++++--+-+++---++--+++-+++--+-+++++-+-+--+---+-+++-/| ||||| |||||||
  ||   || |\+-+-+--+++++++-+++++--+-+-++++-++++++-++-+++--++----+++-+-+-----+--/ | ||||  | |||   ||  ||| |^|  | ||||| | |  |   | |||  | ||||| |||||||
  ||  /++-+-+-+-+\/+++++++-+++++--+-+-++++-++++++-++-+++--++----+++-+-+-----+----+-++++--+-+++---++--+++-+++--+-+++++-+-+\ |   | |||  | ||||| |||||||
  ||  ||| | | | |||||||||| |||||  | | |||| |||||| || |\+--++----+/| | \-----+----+-+++/  | \++---++--+++-+++--+-+++++-+-++-+---+-++/  | ||||| |||||||
  ||  |^| | |/+-++++++++++-+++++--+\| |||| |||||| || | |  ||    | | |       |    | |||   |  ||   ||  ||| |||  | ||||| | || |   | ||   | ||||| |||||||
  ||  ||| | ||| |||||||||| ||||\--+++-++++-++++++-++-+-+--++----+-+-+-------+----+-+++---+--++---++--+++-+/|  | ||||| \-++-+---+-++---+-+/||| |||||||
  ||  ||| | ||| |||||||||| ||||   ||| |||| |||||| || | |  ||/---+-+-+-------+----+-+++---+--++---++-\||| | |  | |||||   || |   | ||   | | ||| |||||||
  ||  ||| | ||| |||||||||| ||||   ||| |||| |||||| || | |  |||   \-+-+-------+----+-+++---+--++---++-++++-+-+--+-+++++---++-+---+-++---+-+-/|| |||||||
  ||  ||| | ||| |||||||||| |\++---+++-++++-++++++-++-+-+--+++-----+-+-------+----+-+++---+--++---++-++++-+-+--+-+++++---++-+---/ ||   | |  || |||||||
  ||  ||| | ||| |||\++++++-+-++---+++-++++-++++++-++-+-+--+/|     | |       |    | |||   |  ||   || |||| | |  | |||||   || |     ||   | |  || |||||||
  ||  |\+-+-+++-+++-++++++-+-++---+++-++++-++++++-++-+-+--+-+-----+-+-------+----+-+++---+--++---++-++++-+-+--+-+/|||   || |     ||   | |  || |||||||
  ||  | | | ||| ||| |||||| | ||   ||| |||| |||||\-++-+-+--+-+--<--+-+-------+----+-+++---+--++---++-++++-+-+--+-+-/||   || |     ||   | |  || |||||||
  ||  | | | ||| ||| |||||| | ||   ||| \+++-+++++--++-+-+--+-+-----+-+-------+----+-/||   |  ||   || |||| | |  | |  ||   || |     ||   | |  || |||||||
  ||  | | | |||/+++-++++++\| ||   |||  |\+-+++++--++-+-+--+-+-----+-+-------+----+--++---+--++---++-++++-+-+--/ |  ||   || |     ||   | |  || |||||||
  ||  \-+-+-+++++/| ||||\+++-++---+++--+-+-++/||  || | |  | |     | |       |    |  ||   |  ||   || |||| | |    |  ||   || |     ||   | |  || |||||||
  ||    | | ||||| | |||| ||| ||   |||  | | |\-++--++-+-+--+-+-----+-+-------+----+--+/   |  ||   || |||| | |    |  ||   || |     ||   | |  || |||||||
  \+----+-+-+++++-+>++++-+++-++---/||  | | \--++--++-+-+--+-+-----+-+-------+----+--+----+--++---++-++++-+-+----+--++---++-+-----++---+-+--++-++++++/
   |    | \-+++++-+-++++-+++-+/    ||  | |    \+--++-+-+--+-+-----+-+-------+----+--+----+--++---++-++++-+-+----+--++---++-+-----++---+-+--++-++++/|
   |    |   |||||/+-++++-+++-+-----++--+-+-----+--++-+-+--+-+--\  | |       \>---+--+----+--++---++-++++-+-+----+--++---++-+-----+/   | |  || |||| |
   |    | /-+++++++-++++\||| |     ||  | |     |  || | |  | |  |  | |            |  |    |  ||   || |||| | \----+--++---++-+-----+----+-+--++-/||| |
   |    | | ||||||| |||||||| |     ||/-+-+-----+--++-+-+--+-+--+--+-+------------+--+----+--++---++-++++-+------+--++---++-+\    |    | |  ||  ||| |
   |    | | ||||||| |||||||| |     ||| | |     |  || | |  | |  |  | |            |  \----+--++---++-++++-+------+--++---++-++----+----+-+--+/  ||| |
   |    | | ||||||| |||||||| |  /--+++-+-+-----+--++-+-+--+-+--+--+-+------------+----\  |  ||   || |||| |      |  ||   || ||    |    | |  |   ||| |
   |    | | ||||||| |||||||| |  |  |\+-+-+-----+--++-+-+--+-+--+--+-+------------+----+--+--++---++-++++-+------+--++---++-++----+----+-/  |   ||| |
   \----+-+-+++++++-++++++++-+--+--+-+-+-+-----+--++-+-+--+-+--+--+-+------------+----+--+--++---++-++++-/  /---+--++--\|| ||    |    |    |   ||| |
        | | ||||||| |||||||| |  |  | | | |     |  || | |  | |  |  | |            |    |  |  ||   || ||||    |   |/-++--+++-++----+----+--\ |   ||| |
        | | ||||||| |||||||| |  |  | | | |   /-+--++-+-+--+-+--+--+-+------------+----+--+--++---++-++++---\|   || ||  ||| ||    |    |  | |   ||| |
        | | ||\++++-++++++++-+--+--+-+-+-+---+-+--++-+-+--+-+--+--+-+------------+----+--+--++---++-++++---++---++-++--+/| ||    |    |  | |   ||| |
        | | || |||| |||\++++-+--+--+-+-+-+---+-+--++-/ |  | |  |  | |            |    |  |  ||   || ||||   ||   || ||  | | ||    |    |  | |   ||| |
        | | || |\++-+++-++++-+--+--+-+-+-+---+-+--++---+--+-+--+--+-+------------+----+--+--++---++-+/||   ||   || ||  | | ||    |    |  | |   ||| |
        | | || | || ||| |||| |  |  | | | |   | |  ||   |  | |  |  | |            |    |  |  ||   || | ||   ||   || ||  | | ||    |    |  | |   ||| |
        | | || | || ||| |||| |  |  | | | \---+-+--++---+--+-+--+--+-+------------+----+--+--++---++-+-++---++---++-++--+-+-++----+----+--+-/   ||| |
        | | || | \+-+++-++++-+--+--+-+-+-----+-+--++---+--+-+--/  | |            |    |  |  ||   || | ||   ||   || ||  | | ||    |    |  |     ||| |
        | | || |  | ||| |||| |  \--+-+-+-----+-+--++---+--+-+-----+-+------------+----/  |  ||   || | || /-++---++-++--+-+-++----+--\ |  |     ||| |
        \-+-++-+--+-/|| |||| |     | | |     | |  ||   |  | |     | |       /----+-------+--++---++-+-++-+-++-\ || \+--+-+-++----+--+-+--+-----+++-/
          | || |  |  || |||| |     | | \-----+-+--++---/  | |     | |       |    |       |  ||   || | || | || | ||  |  | | ||    |  | |  |     |||
          | || |  |  \+-++++-+-----+-+-------+-+--++------+-+-----+-+-------+----+-------+--++---++-+-++-+-++-+-++--/  | | ||    |  | |  |     |||
          | || |  |   | |||| |     | \-------+-+--++------+-+-----+-+-------+----+-------+--++---++-+-++-+-++-+-++-----+-+-+/    |  | |  |     |||
          | || |  |   | |||| |     |         \-+--++------+-+-----+-+-------+----+-------+--++---++-+-++-+-/| | ||     | | |     |  | |  |     |||
          | || |  |   | |\++-+-----+-----------+--++------+-+-----+-+-------+----+-------+--++---++-+-++-+--+-+-/|     | | |     \--+-+--+-----+/|
          | \+-+--+---+-+-++-+-----+-----------+--++------+-+-----+-+-------+----+-------+--++---++-+-+/ |  \-+--+-----/ | |        | |  |     | |
          |  | |  \---+-+-++-+-----+-----------+--++------+-+-----+-+-------+----+-------+--++---++-+-+--+----+--+-------/ |        | |  |     | |
          \--+-+------+-/ || \-----+-----------+--++------+-+-----+-+-------+----+-------+--++---+/ | |  \----+--+---------+--------/ |  |     | |
             | |      |   ||       |           |  ||      \-+-----+-+-------+----+-------+--++---+--+-/       |  \---------+----------+--/     | |
             | |      |   ||       |           |  ||        |     | \-------+----+-------+--/|   |  |         |            |          |        | |
             | |      |   ||       |           |  ||        \-----+---------+----+-------+---+---+--/         |            |          |        | |
             \-+------+---++-------/           |  ||              |         |    |       |   |   |            |            |          |        | |
               |      |   ||                   |  |\--------------+---------+----+-------+---+---+------------+------------/          |        | |
               \------+---/|                   |  |               |         |    |       |   \---+------------+-----------------------+--------/ |
                      |    |                   |  |               \---------+----+-------+-------+------------+---------<-------------/          |
                      \----+-------------------/  \-------------------------+----+-------+-------/            |                                  |
                           \------------------------------------------------+----/       \--------------------+----------------------------------/
                                                                            \---------------------------------/                                       `

const david = `                                              /----------------------------------------------------------------------------------------------------\
                   /--------------------------+------------------------\                            /-----------------------\                      |
                   |      /-------------------+------------------------+-----------\                |          /--------\   |                      |
/------------------+------+-------------------+------------------------+-----------+-\              |          |        |   |                      |
|                  |      |                   |      /----------------\|/----------+-+--------------+----------+--------+---+-----------\          |
|                  |      |                   |      |                |||          | |              |          |        |   |           |          |
|                  |      |                   |      |     /----------+++----------+-+--------------+---\      |        |   |           |          |
|        /---------+\     |      /------------+------+--\  |          |||          | |              |   |      | /------+---+----------\|          |
|        |         ||     |      |            |      |  |  |          |||          | |              |   |      | |/-----+---+----------++--\       |
|        |         ||     |      |            |      |  |  |          |||          | |              |   |      | ||     |   |          ||  |       |
|        |         ||     |      |          /-+------+--+--+--\       |||          | |              |   |      | ||     |   |          ||  |       |
|        |         ||     |      |          | |      |  |  |  |       |||          | | /-----------\|   |      | ||     |   |      /---++--+---\   |
|        |         ||     |      |          | |  /---+--+--+--+-------+++----------+-+-+-----------++---+------+-++-----+---+--\   |   ||  |   |   |
|        |         ||     v      |          | |  |   |  |  |/-+-------+++----------+-+-+-----------++---+------+-++-----+---+--+---+---++\ |   |   |
|        |         ||     |      |          | |  |  /+--+--++-+-------+++----------+-+-+-----------++---+------+-++-----+---+--+---+---+++-+---+--\|
|        |      /--++-----+\   /-+----------+-+--+--++--+--++-+-------+++------\   | | |           ||   |      | ||     |   |  |   |   ||| |   |  ||
|        |      |  ||     ||   | | /--------+-+--+--++--+--++-+-------+++------+---+-+-+-----------++---+------+-++-\   |   |  |   |   ||| |   |  ||
|        |      |  ||     \+---+-+-+--------+-+--+--++--+--++-+-------+++------+---/ | |           ||   |      | || |   |   |  |   |   ||| |   |  ||
|        |      |  ||      |   | | |      /-+-+--+--++--+--++-+-------+++------+-----+-+-----------++---+------+-++-+---+---+--+---+---+++-+---+--++\
|       /+------+--++----\ |   | | |      | | \--+--++--+--++-+-------+++------+-----+-+-----------++---+------+-++-+---+---+--+---+---+++-+---+--+/|
|       |\------+--+/    | |   | | | /----+-+----+--++--+--++-+-------+++------+-\   | |           ||   |      | ||/+---+---+--+\  |   ||| |   |  | |
|       |       |  |     | |   | | | |    | |    |  ||  |  || |       |||      | |   | |           ||   |  /---+-++++---+---+--++--+---+++-+---+--+\|
|       |       |  |    /+-+---+-+-+-+----+-+---\|  ||  |  || |       |||      | |   | |           ||   |  |   | ||||   |   |  ||  |   ||| |   |  |||
|       |       |  |/---++-+---+-+-+-+----+-+---++--++\ |  || |       |||      | |   | |           ||   |  |   | ||||   |   | /++--+---+++-+---+-\|||
|       |/------+--++---++-+---+-+-+-+----+-+---++--+++-+--++-+-------+++----<-+-+---+-+-----------++---+\ |   | ||||   |   | |||  |   ||| |   | ||||
|       ||     /+--++---++-+---+-+-+\|/---+-+---++--+++-+--++-+-------+++------+-+-\ | |           ||   || |   | ||||   |   | |||  |   ||| |   | ||||
|       ||     || /++---++-+---+-+-++++---+-+---++--+++-+--++-+-------+++------+-+-+-+-+-----------++---++-+---+-++++\  |   | |||  |   ||| |   | ||||
|       ||     |\-+++---++-/   | | ||||   | |   ||  ||| |  |\-+-------+++------+-+-+-+-+-----------++---++-+---+-+++++--+---+-+++--+---++/ |   | ||||
|       ||     |  |||   ||     | | ||||   |/+---++--+++-+--+--+----\  |||      | | | | |           ||   || |   | |||||  |   | |||  |   ||  |   | ||||
|/------++----\|  ||| /-++-----+-+-++++---+++---++--+++-+--+--+----+--+++-----\| | | | |           ||   || |   | |||||  |   | |||  |   ||  |   | ||||
||      ||    ||  ||| | ||    /+-+-++++---+++---++--+++-+--+-\|    |  |||     || | | | |           ||   || |   | |||||  |   | |||  |   ||  |   | ||||
|| /----++----++--+++-+-++----++-+-++++\  |||   ||  ||| |  | ||    |  |||     || | | | \-----------/|   || |/--+-+++++-\|   | |||  |   ||  |   | ||||
|| |    ||    ||  ||| | ||    || |/+++++--+++---++--+++-+--+-++----+--+++-----++-+-+-+------\       |   || ||  | ||||| ||   | |||  |   ||  |   | ||||
|| |    ||    ||  ||| | ||    || |||||||  |||  /++--+++-+--+-++----+--+++-----++-+-+-+------+-------+---++-++\ | |\+++-++---+-+++--+->-++--/   | ||||
|| |    ||    ||  ||| |/++----++-+++++++--+++--+++--+++-+--+-++----+--+++-----++-+-+-+------+----\  |   || ||| | \-+++-++---+-+++--+---/|      | ||||
|| |    ||    ||  ||| ||||    || |||||||  |||  |||  ||| |  \-++----+--+++-----++-+-+-+------+----+--+---/| ||| |   ||| ||   | |||  |    |      | ||||
|| |    ||    ||  ||| ||||    || |||||||  |||  |||  ||| |    ||    |  |||/----++-+-+-+------+----+--+----+-+++-+---+++-++---+-+++--+----+----\ | ||||
|| |    ||    ||  ||| ||||    || ||||\++--+++--+++--+++-+----++----+--++++----++-/ | |      |    |  |    | ||| |   ||| ||   | |||  |    |    | | ||||
|| |    ||  /-++--+++-++++--\ || |||| ||  |||  |||  ||| |    ||   /+--++++----++---+\|      |    |  |    | ||| |   ||| ||   | |||  |    |    | | ||||
|| |    ||  | ||  ||| ||||  | || \+++-++--+++--+++--+++-/    ||/--++--++++----++---+++------+----+--+----+-+++-+\  ||| ||  /+-+++--+----+--\ | | ||||
|| |    ||  | ||  ||| ||||  | ||  ||| ||/-+++--+++--+++------+++--++--++++----++---+++------+----+--+----+-+++\||  ||| ||  || |||  \----+--+-+-/ ||||
|| |   /++--+-++--+++-++++--+-++--+++-+++-+++--+++--+++------+++--++--++++----++---+++------+----+--+\   | ||||||  ||| ||  || |||       |  | |   ||||
|| |   |||  | ||  ||| ||||  | ||/-+++-+++-+++--+++--+++\     |||  ||  ||||    ||   |||     /+----+--++---+-++++++--+++-++--++-+++-------+--+-+---++++\
|| |   |||  | ||  ||| |\++--+-+++-+++-+++-+++--+++--++++-----+++--++--++++----++---+++-----++----/  ||   | ||||||  ||| ||  || |||       |  | |   |||||
|| |   |||  | ||  ||| | ||  |/+++-+++-+++-+++--+++--++++-----+++--++--++++----++-\ |||     ||       ||   | ||||||  ||| ||  || |||       |  | |   |||||
|| |   |||  | ||  ||| | \+--+++++-+++-+++-+++--+/|  ||||     |||  ||  ||||    || | |||     ||       || /-+-++++++--+++\||  || |||       |  | |   |||||
|| | /-+++--+-++-\||| |  |  ||\++-+++-+++-+++--+-+--++++-----/||  ||  ||||    || | |||     ||       || | | ||||||  \+++++--++-++/       |  | |   |||||
|| | | |||  | || ||||/+--+--++-++-+++-+++-+++--+-+--++++------++-\||  ||||    || | |||     ||       || | | ||||||   |||||  || ||        |  | |   |||||
|| | | |||  | ||/++++++--+--++-++-+++-+++-+++--+-+--++++------++-+++--++++----++-+-+++-----++-------++-+\| ||||||   |||||  || ||        |  | |   |||||
|| | | |||  | |||||||||  |  || || ||| ||| |||  | |  ||||      || |||  ||||    || | |||     ||       || ||| ||||||   |||||  || ||        |  | |   |||||
|| | | |||  |/+++++++++--+--++-++-+++-+++-+++--+-+--++++------++-+++--++++----++-+-+++---\ ||       || ||| ||||||   |||||  || ||        |  | |   |||||
|| |/+-+++--+++++++++++-<+--++-++-+++-+++-+++--+\|  ||||      || |||  ||||    || | |||   | ||       || ||| ||||||   |||||  || ||        |  | |   |||||
|| ||| |||  |||||||\+++--+--++-++-+++-+++-+++--+++--++++------++-+++--+/||    || | |||/--+-++-----\ \+-+++-++++++---+++++--+/ ||        |  | |   |||||
|| ||| |||  ||||||| |||  |  || || ||| ||| |||  |||  ||||      || |||  | ||    || | ||||  | ||     |  | ||| \+++++---+++++--+--++--------+--+-+---++/||
|| ||| |||  ||||||| ||| /+--++-++-+++-+++-+++--+++--++++------++-+++--+-++----++-+-++++--+-++-----+--+-+++-\|||||   |||||  |  ||        |  | |   || ||
|| ||| |||  ||||||| ||| ||  || || |\+-+++-+++--+++--++++------++-+++--+-++----++-+-++++--+-++-----+--+-+++-++++++---/||||  |  ||        |  | |   || ||
|| ||| |||  |||\+++-+++-++--++-++-+-/ ||| |||  |||/-++++------++-+++--+-++----++-+-++++--+-++-----+--+-+++-++++++----++++--+--++\       |  | |   || ||
|| ||\-+++--+++-+/| ||| ||  || || |   ||| |||  |||| ||||      || |||  |/++----++-+-++++--+-++-----+--+-+++-++++++--\ ||||  |  |||       |  | |   || ||
|| ||  |||  ||| | | ||| ||  || || |  /+++-+++--++++-++++------++-+++--++++----++-+-++++--+-++-----+--+-+++-++++++--+\||||  |  |||       |  | |   || ||
|| ||  |||  \++-+-+-+++-++--/| || |  |||| ||| /++++-++++-\    ||/+++--++++----++-+-++++--+-++-----+--+-+++-++++++--++++++--+--+++-------+--+-+-\ || ||
|| ||  |||   || | | ||| ||   | || |  |||| ||| ||||| |\++-+----++++++--/|||    || | ||||  | ||     |  | ||| ||||||  ||||||  |  |||       |  | | | || ||
|| ||  |||   || | | ||| ||  /+-++-+--++++-+++-+++++-+-++-+----++++++---+++----++-+-++++--+-++-----+\ | ||| ||||||  ||||||  |  |||       |  | | | || ||
|| ||  |||   || | | ||\-++--++-++-+--++++-+++-+++++-+-++-+----++++++---+++----/| | ||||  | ||     || | ||| ||||\+--+++++/  |  |||       |  | | | || ||
|| ||  |||   || | | ||  ||  || || |  |||| ||| ||||| | || |    ||||||   |||     | | |||\--+-++-----/| | ||| |||| |  |||||   |  |||       |  | | | || ||
|| ||/-+++---++-+-+-++--++--++-++-+--++++-+++\||||| | || |    ||||||   |||     | | |||   | ||      | | ||| |||| |  |||||   |  |||       |  | | | || ||
|| ||| |||   ||/+-+-++--++--++-++-+--++++-+++++++++-+-++-+----++++++---+++-----+-+-+++-\ | ||      | | ||| |||| |  |||||   |  |||       |  | | | || ||
|| ||| |||   |||| | ||  ||  || || |  |||| ||||||||| | || |    ||||||   |\+-----+-+-+++-+-+-++------+-+-+++-++++-+--+++++---+-<+++-------/  | | | || ||
|| ||| ||| /-++++-+-++--++--++-++-+-\|||| ||||||||| | || |    ||||||   | |     | | ||| | | ||      | | ||| |||| |  |||||   |  |||          | | | || ||
|| ||| ||| | |||| | ||  || /++-++-+-+++++-+++++++++-+-++-+----++++++---+-+---<-+-+-+++-+\| ||      | | ||| |||| |  |||||   |  |||          | | | || ||
|| ||| |||/+-++++-+-++--++-+++-++-+-+++++-+++++++++-+-++-+----++++++---+-+-----+-+-+++-+++-++------+-+-+++-++++\|  |||||   |  |||          | | | || ||
|| |||/+++++-++++-+-++--++-+++-++-+-+++++-+++++++++-+-++\|    ||||||   | |     | | ||| ||| ||      | | ||| ||^|||  |||||   |  |||          | | | || ||
|| ||||||||| ||||/+-++--++-+++-++-+-+++++-+++++++++-+-++++----++++++---+-+-----+\| ||| ||| ||      | | ||| ||||||  |||||   |  |||          | | | || ||
|| ||||||||| |||||| ||  || ||| || | ||\++-+++++++++-+-++++----++++++---+-+-----+++-/|| ||| ||     /+-+-+++-++++++--+++++---+-<+++----------+-+\| || ||
|| ||||||||| |||||| ||  || ||| || | || || ||||||||| | ||||    ||||||   | |     |||  || ||| ||     || | |||/++++++--+++++---+--+++----\     | ||| || ||
|| |||||||||/++++++-++--++-+++-++-+-++-++\||||||||| | ||||    ||||||   | |     |||  || ||| ||     || | ||||||||||  |||||   |  |||    |     | ||| || ||
|| |||||||||||||||| ||  || |\+-++-+-++-++++++++++++-+-++++----++++++---+-+-----+++--++-+++-++-----+/ | ||||||||||  |||||   |  |||    |     | ||| || ||
|| |||||||||||||||| ||  || | | |\-+-++-++++++++++++-+-+/||    ||||||   | |     |||  || ||| ||     |  | ||||||||||  |||||   |  |||    |     | ||| || ||
|| |||||||||||||||| ||  || | | |  | || |||||||||||| | | ||    ||||||   | |   /-+++--++-+++-++-----+--+-++++++++++--+++++-\ |  |||    |     | ||| || ||
|| |||||||||||||||| ||  || | | |  | || |||||||\++++<+-+-+/    ||||||   | |   | |||  || ||| ||     |  | ||||||||||  ||||| | |  |||    |     | ||| || ||
|| |||||||||||||||| ||  || | | |  | || ||||||| |||| | | |   /-++++++---+-+---+-+++--++-+++-++-----+--+-++++++++++--+++++-+-+--+++----+---\ | ||| || ||
|| |||||||||||||||| ||  || | | |  | || ||||||| |||| | | |   | ||||||   | |   | |||  || ||| \+-----+--+-++++++++++--+++++-+-+--+++----+---+-+-+++-++-+/
|| |||||||||||||||| ||  || | | |  | || ||||||| |||| | | |   | ||||||   | |   | |||  || |||  | /---+--+-++++++++++--+++++-+-+--+++-\  |   | | ||| || |
|| |||\++++++++++++-++--++-+-+-+--+-++-+++++++-++++-+-+-/   | ||||||   | \---+-+++--++-+++--+-+---+--+-++++++++++--+++++-+-+--+++-+--+---+-+-/|| || |
|| ||| |||||||||||| || /++-+-+-+--+-++-+++++++-++++-+-+-----+-++++++---+-----+\|||  || |||  | |   |  | ||||||||||  ||||| | \--+++-+--+---+-/  || || |
|| ||| |||||||||||| || ||| | | |  | || ||||||| |||| | |     | ||||||   |     |||||  || ||v  | |   |  | ||||||||||  ||||| |    ||| |  |   |    || || ^
|| ||| |||||||||\++-++-+++-+-+-+--+-++-+++++++-++++-+-+-----+-++++++---+-----+++++--++-+++--+-+---+--+-+/||||||||  ||||| |  /-+++-+--+--\|    || || |
|| ||| ||||||||| || || ||| | | |  | || ||||||| |||| | |     | ||||||   |     |||||  || |||  |/+---+--+-+-++++++++--+++++-+--+-+++\|/-+--++----++\|| |
|| ||| \++++++++-++-++-+++-+-+-+--+-++-+++++++-++++-+-+-----+-++++++---+-----+++++--++-+++--+++---+--/ | ||||||||  ||||| |  | \+++++-+--++----+++/| |
|| |||  |||||||| || || ||| | | |  | || ||||||| |||| | |/----+-++++++---+-----+++++--++-+++--+++---+----+-++++++++--+++++-+--+--+++++-+-\||    ||| | |
|| |||  |||||||| || || ||| | | |  | || ||||||| |||| | ||    | ||||||   |     |||||  || |||  |||   |    | ||||||||  ||||| |  |  ||||| | |||    ||| | |
|| |||  |||||||| || || ||| | | |  | || |||||\+-++++-+-++----+-/|||||   |     |||||  || |||  ||\---+----+-++++++++--+++++-+--+--+++/| | |||    ||| | |
|| |||  |||||||| || || ||| | | |  | || ||||| | |||| | ||    |  |||||   |     |||||  || |||  ||    |    | ||||||||  |^||| |  |  ||| | | |||    ||| | |
|| |||  |||||\++-++-++-+++-+-+-+--+-++-+++++-+-++++-+-++----+--+++++---+-----+++++--++-++/  ||    | /--+-++++++++--+++++-+--+--+++-+-+-+++\   ||| | |
|| |||  ||||| || || || ||| | | |  \-++-+++++-+-++++-+-++----+--+++++---+-----+++++--++-++---/|    | |  | ||||||||  ||||| |  |  ||| | | ||||   ||| | |
|| |||  ||||| || || || ||| | | |    || ||||| | |||| | ||    |  |||||   |     |||||  || ||    |    | |  | ||||||||  ||||| |  |  ||| | | ||||   ||| | |
|| |||  ||||\-++-++-++-+++-+-+-+----++-++/\+-+-++++-+-++----+--+++++---+-----+++++--++-++----+----+-+--+-++++++++--+++++-+--+--+++-+-+-++++---+++-+-/
|| |||  ||||  || ||/++-+++-+-+-+----++-++--+-+-++++-+-++----+--+++++---+-----+++++--++-++----+----+-+--+-++++++++--+++++-+\ |  ||| | | ||||   ||| |
|| |||/-++++--++-+++++-+++-+-+-+--\ || ||  |/+-++++-+-++----+--+++++---+-----+++++--++-++----+-\  | |  | |||\++++--++++/ || |  ||| | | ||||   ||| |
|| |||| ||||  || ||||| ||| | | |  | || ||  \++-++++-+-++----+--++++/   |    /+++++--++-++----+-+--+-+--+-+++-++++--++++--++\|  ||| | | ||||   ||| |
|| |||| ||||  || ||||| ||| | | \--+-++-++---++-++++-+-++----+--++++----+----+++/||  || ||    | |  | |  | |||/++++--++++--++++--+++-+-+-++++--\||| |
|| |||| ||||  || ||||| ||| | |    | || ||   || ||\+-+-++----+--++++----+----+++-++--++-++----+-+--+-+--+-++++++++--++++--++++--/|| | | ||||  |||| |
|| |||| ||||  || ||||| ||| | |    | || ||   || || | | ||    |  ||||    |    ||| ||  || ||    \-+--+-+--+-++++++++--++++--++++---+/ | | ||||  |||| |
|| |||| ||||  |^ ||||| ||| | |    | || ||   || || | | ||    \--++++----+----+++-++--++-++------+--+-+--+-++++++++--++++--++++---+--+-+-++/|  |||| |
|| |||| ||||  || ||||| ||| | |    | || ||   || || | | ||       ||||    |    ||| ||  || ||      |  | |  | ||||||||  ||||  ||||   |  | | || |  |||| |
\+-++++-++++--++-+++++-+++-+-+----+-++-++---++-++-+-+-++-------++++----+----+++-++--+/ ||      |  | |  | ||||||||  ||||  ||||   |  | | || |  ^||| |
 | |||| ||||  || ||||| ||| \-+----+-++-++---++-++-+-+-++-------++++----+----+++-++--+--+/      |  | |  | ||||||||  ||||  ||||   |  | |/++-+--++++\|
 | |||| ||||  || ||||| |||   |    | || ||   || || | | ||       ||||    |  /-+++-++--+--+-------+--+-+--+-++++++++--++++-\||||   |  \-++++-+--+++/||
 | |||| ||||  || \++++-+++---+----+-++-++---++-++-+-+-++-------++++----+--+-+++-/|  |  |       |  | |  | |\++++++--++++-+++++---+----/||| |  ||| ||
 | |||| ||||  ||  |||| |||   |    | || ||   || || | | ||       ||||    |  | |||  |  |  |       |  | |  \-+-++++++--+++/ |||||   |     ||| |  ||| ||
 | |||| ||||  ||  |||| |||   |    | || ||   || || | | ||       |\++----+--+-+++--+--+--+-------+--+-+----+-++++++--+++--+++++---+-----+++-+--++/ ||
 | |||| ||||  ||  |||| |||   |    | || |\---++-++-+-+-++-------+-++----+--+-+++--+--+--+-------+--+-+----+-+++/||  |||  |||||   |     ||| |  ||  ||
 | |||| ||||  ||  |||| |||   |    | || |    || || | \-++-------+-++----+--+-+++--+->+--+-------+--+-+----+-+++-++--+++--+++++---+-----+++-+--++--+/
 | |||| ||||  ||  \+++-+++---+----+-++-+----++-++-+---++-------+-++----+--+-+++--+--+--+-------+--+-+----+-+++-++--++/  |||||   |     ||| |  ||  |
 | |||| ||||  ||   ||| |\+---+----+-++-+----++-++-+---++-------+-++----+--+-+++--+--+--+-------+--+-+----+-/|| ||  ||   |||||   |     ||| |  ||  |
 | |||| ||||  ||   ||| | |   |    | || |  /-++-++-+---++-------+-++----+--+-+++--+--+--+-------+--+-+----+--++-++--++---+++++---+-----+++-+--++--+---\
 | |||| \+++--++---+++-+-/   |    | || |  | || || |   ||       | ||    |  | |||  |  |  |       |  | |    |  || ||  ||   |||||   |     ||| |  ||  |   |
 | ||||  |||  |\---+++-+-----+----+-++-+--+-++-++-+---++-------+-++----+--+-+++--+--+--/       |  | |    |  || ||  ||   |||||   |     ||| |  ||  |   |
 | ||||  ||| /+----+++-+\    |    | || |  | || || |   ||       | ||    |  | \++--+--+----------+--+-+----+--++-++--++---+++/|   |     ||| |  ||  |   |
 | ||||  ||| ||    ||\-++----+----+-++-+--+-++-++-+---++-------+-/|    |  |  ||  |  |          |  | |    |  || ||  ||   ||| |   |     \++-+--++--/   |
 | ||||  ||| ||    ||  ||    \----+-++-+--+-++-++-+---++-------+--+----+--+--++--/  |          |  | |    |  || ||  ||   ||| |   |      || |  ||      |
 | ||||  ||| |^    ||  ||         | || |  | || || \---++-------+--+----+--+--++-----+----------+--+-+----+--++-++--++---+++-+---/      || |  ||      |
 | ||||  ||| ||    ||  ||         | || |  | || ||     ||  /----+--+----+--+--++-----+--\     /-+--+-+----+--++-++--++---+++-+----------++-+\ ||      |
 | ||||  |\+-++----++--++---------+-++-+--+-++-++-----++--+----+--+----+--+--++-----+--+-----+-+--+-+----+--++-/|  ||   ||| |          || || ||      |
 | ||||  | | ||    ||  ||         | || |  | || ||  /--++--+----+--+----+--+--++-----+--+-----+-+--+-+----+--++--+--++---+++-+----\     || || ||      |
 | ||\+--+-+-++----++--++---------+-++-+--+-+/ ||  |  ||  |    |  |    | /+--++-----+--+-----+-+--+-+----+--++--+--++---+++-+----+----\|| || ||      |
 \-++-+--+-+-+/    ||  ||         | || |  | |  ||  |  ||  |  /-+--+----+-++--++-----+--+-----+-+--+-+-\  |  \+--+--++---+++-+----+----+++-++-/|      |
   || |  | | |     ||  ||         | || |  | \--++--+--++--+--+-+--+----+-++--++-----+--+-----+-/  | | |  |   |  |  ||   ||| |    |    ||| ||  |      |
   || |  | | |     ||  ||         | || |  |    ||  |  ||  |  | \--+----+-++--++-----+--+-----+----+-+-+--+---+--/  ||   ||| |    |    ||| ||  |      |
   || |  \-+-+-----++--++---------+-++-+--+----++--+--++--+--+----+----+-++--++-----+--+-----+----+-+-+--/   |     ||   ||| \----+----++/ ||  |      |
   || |    | |     ||  ||         | |\-+--+----++--+--++--+--+----+----+-++--++-----+--+-----+----+-+-+------+-----+/   |||      |    ||  ||  |      |
   || |    | |     ||  ||         | |  |  |    ||  |  ||  |  |    |    | ||  ||     |  |     |    | | |      |     |    |||      |    ||  ||  |      |
   || |    | |     |\--++---------+-+--+--+----++--+--/|  |  |    |    | ||  ||     |  |     |    | | |      |     |    |||      |    ||  ||  |      |
   || |    | |     |   ||         | |  |  |    ||  |   |  |  |    \----+-++--++-----/  |     |    | | |      |     |    |||  /---+----++--++--+--\   |
   || |    | |     |   ||         | |  |  |    ||  |   |  |  |         | ||  ||        |     |    | | |      |     |    |||  |   |    ||  ||  |  |   |
   |\-+----+-+-----+---++---------+-+--+--+----+/  |   |  |  |         | ||  ||        |     |    \-+-+------+-----+----+++--+---+----++--++--/  |   |
   |  |    | |     \---++---------+-+--+--+----+---+---+--+--+---------+-++--++--------+-----+------+-+------+-----+----++/  |   |    ||  ||     |   |
   |  |    | |         ||         | |  |  |    |   |   |  \--+---------+-++--++--------/     |      | |      |     |    ||   |   |    ||  ||     |   |
   |  |    | |         ||         | |  |  |    \---+---+-----+---------+-++--++--------------+------+-+------/     |    ||   |   |    ||  ||     |   |
   \--+----+-+---------++---------+-+--/  |        |   |     |         | ||  ||              \------+-+------------+----++---+---+----++--+/     |   |
      |    | |         ||         | |     |        |   |     |         | |\--++---------------------+-+------------+----/|   |   |    ||  |      |   |
      |    \-+---------++---------+-/     |        \---+-----+---------+-+---++---------------------+-+------------+-----+---+---/    ||  |      |   |
      |      |         ||         v       |            |     |         | |   ||                     \-+------------+-----+---+--------++--/      |   |
      |      |         ||         |       \------------+-----+---------+-+---++-----------------------+------------+-----+---+--------++---------+---/
      |      |         ||         |                    |     |         \-+---++-----------------------+------------/     |   |        ||         |
      \------+---------++---------/                    |     |           |   ||                       |                  |   \--------++---------/
             |         \+------------------------------+-----+-----------+---+/                       |                  |            ||
             |          |                              |     |           \---+------------------------+------------------+------------/|
             |          |                              \-----+---------------+------------------------+------------------+-------------/
             \----------/                                    \---------------+------------------------/                  |
                                                                             \-------------------------------------------/`

type Cart struct {
	utils.Agent
	turn int
}

func (c *Cart) move(grid [][]byte) {
	c.MoveForwardArray(1)
	switch grid[c.Y][c.X] {
	case '+':
		switch c.turn {
		case 0:
			c.TurnLeft()
		case 1:
			// straight
		case 2:
			c.TurnRight()
		}
		c.turn = (c.turn + 1) % 3
	case '/':
		if c.Dir == utils.Down || c.Dir == utils.Up {
			c.TurnRight()
		} else {
			c.TurnLeft()
		}
	case '\\':
		if c.Dir == utils.Left || c.Dir == utils.Right {
			c.TurnRight()
		} else {
			c.TurnLeft()
		}
	}
}

func printTrack(carts []Cart, grid [][]byte) {
	gridCopy := append([][]byte(nil), grid...)
	for i := range gridCopy {
		gridCopy[i] = append([]byte(nil), grid[i]...)
	}
	for _, c := range carts {
		switch c.Dir {
		case utils.Up:
			gridCopy[c.Y][c.X] = '^'
		case utils.Down:
			gridCopy[c.Y][c.X] = 'v'
		case utils.Left:
			gridCopy[c.Y][c.X] = '<'
		case utils.Right:
			gridCopy[c.Y][c.X] = '>'
		}
	}
	for _, line := range gridCopy {
		fmt.Println(string(line))
	}
}

func main() {
	// parse into mutable grid
	lines := utils.Split(input, "\n")
	grid := make([][]byte, len(lines))
	for i := range grid {
		grid[i] = []byte(lines[i])
	}
	// parse agents
	var carts []Cart
	for y := range grid {
		for x, c := range grid[y] {
			switch c {
			case '^':
				carts = append(carts, Cart{Agent: utils.NewAgent(x, y, utils.Up)})
				grid[y][x] = '|'
			case 'v':
				carts = append(carts, Cart{Agent: utils.NewAgent(x, y, utils.Down)})
				grid[y][x] = '|'
			case '<':
				carts = append(carts, Cart{Agent: utils.NewAgent(x, y, utils.Left)})
				grid[y][x] = '-'
			case '>':
				carts = append(carts, Cart{Agent: utils.NewAgent(x, y, utils.Right)})
				grid[y][x] = '-'
			}
		}
	}

	origCarts := len(carts)
	var firstCrash utils.Pos
	for len(carts) != 1 {
		remove := make([]bool, len(carts))
		for i := range carts {
			carts[i].move(grid)
			for j, c2 := range carts {
				if carts[i].Pos == c2.Pos && i != j {
					if remove[i] || remove[j] {
						fmt.Println("multi-cart pile-up")
						continue // can't collide twice
					}

					remove[i] = true
					remove[j] = true
					if len(carts) == origCarts {
						firstCrash = c2.Pos
					}
				}
			}
		}
		filtered := carts[:0]
		for i, c := range carts {
			if !remove[i] {
				filtered = append(filtered, c)
			}
		}
		carts = filtered
	}

	// part 1
	fmt.Printf("%v,%v\n", firstCrash.X, firstCrash.Y)

	// part 2
	fmt.Printf("%v,%v\n", carts[0].X, carts[0].Y)
}
